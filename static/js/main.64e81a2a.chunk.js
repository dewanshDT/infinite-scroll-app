(this["webpackJsonpinfinite-scroll"]=this["webpackJsonpinfinite-scroll"]||[]).push([[0],{37:function(e,n,t){},63:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),i=t(26),s=t.n(i),u=t(15),o=t.n(u),a=t(10),l=t(27),f=(t(37),t(28)),j=t.n(f)()((function(e){return{rawJSON:[],currentItem:{},pageNumber:1,loading:!1,scrollPosition:0,addJSON:function(n){return e((function(e){return{rawJSON:[].concat(Object(a.a)(e.rawJSON),[n.map((function(e){return e}))])}}))},setJSON:function(n){return e((function(e){return{rawJSON:n}}))},setCurrentItem:function(n){return e((function(e){return{currentItem:n}}))},setPageNumber:function(n){return e((function(e){return{pageNumber:n}}))},setLoading:function(n){return e((function(e){return{loading:n}}))},setScrollPosition:function(n){return e((function(e){return{scrollPosition:n}}))}}})),d=t(1),b=function(e){var n=e.func;return Object(d.jsx)("div",{className:"arrow-btn",onClick:n,children:Object(d.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-up",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(d.jsx)("path",{fill:"currentColor",d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"})})})},O=t(2),h=function(e){var n=e.item,t=e.index,r=e.lastElementRef,c=e.length,i=Object(O.f)(),s=j((function(e){return e.setCurrentItem})),u=function(e){s(e),i.push("/image/".concat(e.id))};return t+1===c?Object(d.jsxs)("div",{className:"image",ref:r,onClick:function(){return u(n)},children:[Object(d.jsx)("h4",{children:n.alt_description}),Object(d.jsx)("img",{src:n.urls.small})]},t):Object(d.jsxs)("div",{className:"image",onClick:function(){return u(n)},children:[Object(d.jsx)("h4",{children:n.alt_description}),Object(d.jsx)("img",{src:n.urls.small})]},t)},m=function(){var e=j((function(e){return e.rawJSON})),n=j((function(e){return e.setPageNumber})),t=j((function(e){return e.loading})),c=j((function(e){return e.setScrollPosition})),i=j((function(e){return e.scrollPosition})),s=Object(r.useRef)(),u=Object(r.useRef)(),o=Object(r.useCallback)((function(e){t||(u.current&&u.current.disconnect(),u.current=new IntersectionObserver((function(e){e[0].isIntersecting&&n((function(e){return e+1}))})),e&&u.current.observe(e))}));return s.current&&s.current.addEventListener("scroll",(function(){c(s.current.scrollTop)})),Object(r.useEffect)((function(){s.current.scrollTop=i}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Infinite Scroll"}),Object(d.jsxs)("div",{className:"content-box",children:[Object(d.jsx)(b,{func:function(){s.current.scroll(0,0)}}),Object(d.jsx)("div",{className:"content-list",ref:s,children:e.map((function(n,t){return Object(d.jsx)(h,{item:n,index:t,length:e.length,lastElementRef:o},t)}))})]}),Object(d.jsx)("h4",{children:"Infinite scroll example, by Dewansh. Images loaded via unsplash api"})]})},g=function(){var e=Object(O.g)().id,n=j((function(e){return e.currentItem})),t=Object(O.f)();return Object(d.jsxs)("div",{className:"image-container",children:[Object(d.jsx)(b,{func:function(){t.push("/")}}),"here's your id ",e,Object(d.jsx)("img",{src:n.urls?n.urls.regular:""})]})},x=t(14),p=t(31),v=t.n(p);var N=function(){var e=j((function(e){return e.pageNumber})),n=j((function(e){return e.setLoading})),t=j((function(e){return e.rawJSON})),c=j((function(e){return e.setJSON}));return Object(r.useEffect)(Object(l.a)(o.a.mark((function r(){var i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(!0),r.prev=1,r.next=4,v.a.get("https://api.unsplash.com/search/photos?page=".concat(e,"&query=office&client_id=MrsptAEkuNtiOj9sakWFD9PmsE7roU5qo4Zub6CQgSk&client_secret=F19zKmUGoRQy1QY-FfEodfvh6jKPORIaDZLM7GHL_Nw"));case 4:i=r.sent,console.log(i.data),c(t?[].concat(Object(a.a)(t),Object(a.a)(i.data.results)):i.data.results),console.log("images loaded \ud83d\udcf7"),n(!1),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])}))),[e]),Object(d.jsx)(x.a,{children:Object(d.jsxs)(O.c,{children:[Object(d.jsx)(O.a,{exact:!0,path:"/image/:id",children:Object(d.jsx)(g,{})}),Object(d.jsx)(O.a,{path:"/",children:Object(d.jsx)(m,{})})]})})};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.64e81a2a.chunk.js.map